parameters:
  - name: body
    in: body
    required: true
    schema:
        $ref: '#/definitions/StartGameBody'
security:
    - APIKeyHeader: ['Authorization']
definitions:
    Move:
        type: object
        required:
            - row
            - column
            - player
            - order
            - created_at
        properties:
            row:
                type: integer
            column:
                type: integer
            player:
                type: integer
                enum: [1, 2]
            order:
                type: integer
            created_at:
                type: string
                format: date-time
    GameResponse:
        type: object
        required:
            - game_id
            - user_id
            - size
            - winner
            - created_at
            - finished_at
            - moves
        properties:
            game_id:
                type: integer
            user_id:
                type: integer
            size:
                type: integer
            winner:
                type: integer
                enum: [ 1, 2 ]
            created_at:
                type: string
                format: date-time
            finished_at:
                type: string
                format: date-time
            moves:
                type: array
                items:
                    $ref: '#/definitions/Move'
    StartGameBody:
        type: object
        id: StartGameBody
        required:
            - size
        properties:
            size:
                type: int
                example: 3
                minimum: 3
                maximum: 10
    Error:
        type: object
        required:
            - status_code
            - error
            - description
        properties:
            status_code:
                type: integer
                example: 400
            error:
                type: string
                example: Bad request
            description:
                type: string
                example: Size is not valid value
    AuthError:
        type: object
        required:
            - status_code
            - error
            - description
        properties:
            status_code:
                type: integer
                example: 401
            error:
                type: string
                example: Authorization Required
            description:
                type: string
                example: Request does not contain an access token
    ServerError:
        type: object
        required:
            - status_code
            - error
            - description
        properties:
            status_code:
                type: integer
                example: 500
            error:
                type: string
                example: Server error
            description:
                type: string
                example: Cannot create game

responses:
    201:
        description: Game info
        schema:
            $ref: '#/definitions/GameResponse'
        examples:
            access_token: 'token'
    400:
        description: Bad request
        schema:
            $ref: '#/definitions/Error'
        examples:
            status_code: 400
            error: 'Bad request'
            description: 'Size is not valid value'
    401:
        description: Authorization Required
        schema:
            $ref: '#/definitions/AuthError'
        examples:
            status_code: 401
            error: 'Authorization Required'
            description: 'Request does not contain an access token'
    500:
        description: Server error
        schema:
            $ref: '#/definitions/ServerError'
        examples:
            status_code: 500
            error: 'Server error'
            description: 'Cannot create game'
